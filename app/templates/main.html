{% extends "base.html" %}

{% block content %}
<h1>Amber Emergency Sharing</h1>
<p>Loading items...</p>

<div id="map"></div>

<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
<script src="{{ url_for('static', filename='js/map.js') }}"></script>

<script>
  if ('serviceWorker' in navigator) {
    window.addEventListener('load', () => {
      navigator.serviceWorker.register('/sw.js')
        .then(reg => console.log('Amber Service Worker registered!'))
        .catch(err => console.log('Registration failed:', err));
    });
  }
</script>
{% endblock %}